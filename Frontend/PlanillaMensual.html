<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultar Planilla Mensual</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h2>Consultar Planilla Mensual</h2>

    <!-- Contenedor para los últimos 12 meses de planillas -->
    <div class="monthly-salary-container">
        <!-- Generar 12 meses de planillas -->
        <div class="monthly-salary" id="month1">
            <h3>Planilla de Enero 2023</h3>
            <table>
                <thead>
                    <tr>
                        <th>Salario bruto</th>
                        <th>Total de deducciones</th>
                        <th>Salario neto</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="show-attendance">1000</td>
                        <td class="deductions">100</td>
                        <td>900</td>
                    </tr>
                </tbody>
            </table>

            <!-- Detalle de Deducciones (Enero 2023) -->
            <div class="deduction-detail hidden">
                <h3>Detalle de Deducciones (Enero 2023)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Nombre de la deducción</th>
                            <th>Porcentaje aplicado</th>
                            <th>Monto de la deducción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Aquí se agregarán las deducciones dinámicamente con JavaScript -->
                    </tbody>
                </table>
                <button class="hide-deductions-button">Ocultar Deducciones</button>
            </div>
        </div>
        <!-- Repetir para los otros 11 meses -->
        <!-- ... -->
    </div>

    <script>
        // Código JavaScript para manejar los eventos y mostrar detalles de deducciones

        // Obtener todos los elementos de clase 'deductions' y 'deduction-detail'
        const deductionCells = document.querySelectorAll('.deductions');
        const deductionDetailContainers = document.querySelectorAll('.deduction-detail');
        const hideDeductionsButtons = document.querySelectorAll('.hide-deductions-button');

        // Manejador de clic en los montos de deducciones
        deductionCells.forEach((deductionCell, index) => {
            deductionCell.addEventListener('click', () => {
                // Mostrar el detalle de deducciones correspondiente
                deductionDetailContainers[index].classList.remove('hidden');
                // Simulación de datos de deducciones (puedes obtenerlos de una fuente de datos real)
                const deductionsData = [
                    { name: 'Deducción 1', percentage: 5, amount: 5 },
                    { name: 'Deducción 2', percentage: 10, amount: 10 },
                ];
                // Obtener la tabla de deducciones dentro del contenedor correspondiente
                const deductionsTable = deductionDetailContainers[index].querySelector('tbody');
                // Limpiar cualquier contenido previo en la tabla de deducciones
                deductionsTable.innerHTML = '';
                // Agregar filas de deducciones al detalle
                deductionsData.forEach((deduction) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${deduction.name}</td>
                        <td>${deduction.percentage}%</td>
                        <td>${deduction.amount}</td>
                    `;
                    deductionsTable.appendChild(row);
                });
            });
        });

        // Manejador de clic en los botones para ocultar deducciones
        hideDeductionsButtons.forEach((hideButton) => {
            hideButton.addEventListener('click', () => {
                // Ocultar el detalle de deducciones al hacer clic en el botón
                const parentContainer = hideButton.parentElement;
                parentContainer.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
